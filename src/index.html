<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/index.css">
    <title><main></main></title>
</head>
<body class="body">
    <header class="header">
        <h1>clinica dematologica</h1>
        <p>Especialistas en el cuidado de la piel</p>
    </header>

    <main>
        <section class="avion">
            <h2 class="centered-title">Agendar Cita</h2>
            <button id="toggle-form-button" class="toggle-form-button">Agenda tu cita aquí</button>
            <form id="appointment-form" class="appointment-form" style="display: none;">
                <div class="input-group">
                    <label for="user">Nombre del Paciente:</label>
                    <input type="text" id="user" name="user" placeholder="Nombre del paciente" required>
                </div>
                <div class="input-group">
                    <label for="doctor">Médico:</label>
                    <select id="doctor" name="doctor" required>
                        <option value="">Seleccionar...</option>
                        <option value="Dr. Juan Pérez">Dr. Juan Pérez</option>
                        <option value="Dra. Ana López">Dra. Ana López</option>
                        <option value="Dra. Elena García">Dra. Elena García</option>
                        <option value="Dr. Luis Martínez">Dr. Luis Martínez</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="date">Fecha:</label>
                    <input type="date" id="date" name="date" required>
                </div>
                <div class="input-group">
                    <label for="time">Hora:</label>
                    <input type="time" id="time" name="time" required>
                </div>
                <button type="submit">Agendar Cita</button>
            </form>
        </section>

        <section class="calendar hero">
            <h2>Calendario de Citas</h2>
            <div class="calendar-grid" id="calendar-grid">

            </div>
        </section>

        <section class="servicios taco">
            <h2>Nuestros Servicios</h2>
            <ul>
                <li>Consulta Dermatológica - Examen completo de la piel para detectar anomalías.</li>
                <li>Tratamiento para Acné - Tratamientos efectivos para reducir el acné.</li>
                <li>Rejuvenecimiento Facial - Procedimientos para mejorar la apariencia de la piel.</li>
                <li>Cuidado de Lunares - Revisión y eliminación de lunares peligrosos.</li>
                <li>Prevención de Cáncer de Piel - Detección temprana y prevención del cáncer de piel.</li>
            </ul>
            <p id="info-text">Pasa el cursor sobre un servicio para ver más información.</p>
        </section>

        <section class="team carro">
            <h2>Nuestro Equipo Médico</h2>
            <div class="team-member">
                <img src="assets/css/imagenes/imagenes/descarga (1).jpg" width="300" height="200" alt="Dr. Juan Pérez">
                <h3>Dr. Juan Pérez</h3>
                <p>Dermatólogo especializado en el tratamiento del acné y el rejuvenecimiento facial</p>
                <h4>Citas Asignadas</h4>
                <ul id="appointments-juan"></ul>
            </div>
            <div class="team-member">
                <img src="assets/css/imagenes/imagenes/descarga (2).jpg" width="325" height="200" alt="Dra. Ana López">
                <h3>Dra. Ana López</h3>
                <p>Especialista en cáncer de piel y cuidado de lunares, se enfoca en la detección temprana</p>
                <h4>Citas Asignadas</h4>
                <ul id="appointments-ana"></ul>
            </div>
            <div class="team-member">
                <img src="assets/css/imagenes/imagenes/descarga (4).jpg" width="325" height="200" alt="Dra. Elena García">
                <h3>Dra. Elena García</h3>
                <p>Dermatóloga especializada en el cuidado de la piel y el rejuvenecimiento facial</p>
                <h4>Citas Asignadas</h4>
                <ul id="appointments-elena"></ul>
            </div>
            <div class="team-member">
                <img src="assets/css/imagenes/imagenes/descarga.jpg" width="325" height="200" alt="Dr. Luis Martínez">
                <h3>Dr. Luis Martínez</h3>
                <p>Dermatólogo especializado en el tratamiento del acné y el rejuvenecimiento facial</p>
                <h4>Citas Asignadas</h4>
                <ul id="appointments-luis"></ul>
            </div>
        </section>

        <section class="newsletter">
            <h2>Suscríbete a nuestro boletín</h2>
            <p>Recibe consejos de salud y novedades en tratamientos dermatológicos.</p>
            <form action="subscribe.php" method="post" class="newsletter-form">
                <input type="email" placeholder="Correo electrónico" required>
                <button type="submit">Suscribirse</button>
            </form>
        </section>
    </main>

    <div id="modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Cita Agendada</h2>
            <p>Tu cita ha sido registrada exitosamente.</p>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section about">
                <h3>Clínica Dermatológica Lima</h3>
                <p>Especialistas en el cuidado de la piel. Ofrecemos servicios de dermatología avanzada y tratamientos personalizados para mejorar tu salud y bienestar.</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>©️ 2024 Clínica de Dermatología Lima. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        let appointments = [];

        function updateAppointmentsList() {
            const doctors = {
                "Dr. Juan Pérez": document.getElementById("appointments-juan"),
                "Dra. Ana López": document.getElementById("appointments-ana"),
                "Dra. Elena García": document.getElementById("appointments-elena"),
                "Dr. Luis Martínez": document.getElementById("appointments-luis")
            };

            for (let doctor in doctors) {
                doctors[doctor].innerHTML = '';
            }

            appointments.forEach(appointment => {
                const li = document.createElement('li');
                li.textContent = `${appointment.user} - ${appointment.date} ${appointment.time}`;

                const editButton = document.createElement('button');
                editButton.textContent = 'Editar';
                editButton.onclick = function() {
                    editAppointment(appointment.id);
                };

                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Eliminar';
                deleteButton.onclick = function() {
                    deleteAppointment(appointment.id);
                };

                li.appendChild(editButton);
                li.appendChild(deleteButton);

                doctors[appointment.doctor].appendChild(li);
            });

            updateCalendar();
        }

        function updateCalendar() {
            const calendarGrid = document.getElementById('calendar-grid');
            calendarGrid.innerHTML = '';

            const daysInMonth = new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0).getDate();

            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;

                appointments.forEach(appointment => {
                    const appointmentDate = new Date(appointment.date);
                    if (appointmentDate.getDate() === day && appointmentDate.getMonth() === new Date().getMonth()) {
                        dayElement.style.backgroundColor = '#c8e6c9';
                        const appointmentInfo = document.createElement('div');
                        appointmentInfo.className = 'appointment-info';
                        appointmentInfo.textContent = `${appointment.doctor} - ${appointment.time}`;
                        dayElement.appendChild(appointmentInfo);
                    }
                });

                calendarGrid.appendChild(dayElement);
            }
        }

        document.getElementById('appointment-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const user = document.getElementById('user').value;
            const doctor = document.getElementById('doctor').value;
            const time = document.getElementById('time').value;
            const date = document.getElementById('date').value;

            const appointment = {
                id: Date.now(),
                user,
                doctor,
                time,
                date
            };

            appointments.push(appointment);
            updateAppointmentsList();

            document.getElementById('appointment-form').reset();
            document.getElementById('modal').style.display = 'block';
            setTimeout(() => {
                document.getElementById('modal').style.display = 'none';
            }, 3000);
        });

        document.getElementById('toggle-form-button').addEventListener('click', function() {
            const form = document.getElementById('appointment-form');
            if (form.style.display === 'none') {
                form.style.display = 'block';
            } else {
                form.style.display = 'none';
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            updateCalendar();
        });
    </script>
</body>
</html>
